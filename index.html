<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Fine Wine ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Dancing Script', cursive;
            font-size: 1.2rem; 
            background: #e6f7ff; /* Light blue */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            text-align: center;
        }

        /* --- SCREEN 1: WELCOME --- */
        #welcome-screen {
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- SCREEN 2: PROPOSAL --- */
        #proposal-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            z-index: 10;
        }

        /* --- SCREEN 3: MAIN APP WRAPPER (Hidden until YES) --- */
        #post-proposal-view {
            display: none;
            flex-direction: column;
            align-items: center;
            z-index: 5;
            padding: 20px;
            max-width: 600px;
            width: 100%;
            height: 100vh; /* Full height */
            justify-content: center;
        }

        /* The Content Box (Scrollable area below images) */
        .content-area {
            width: 100%;
            overflow-y: auto;
            max-height: 50vh; /* Takes up bottom half */
            padding-bottom: 50px;
        }

        /* SECTIONS WITHIN THE CONTENT AREA */
        #letter-section { display: block; } /* Visible first */
        #reasons-section { display: none; } /* Hidden first */

        /* BUTTON STYLES */
        button {
            padding: 12px 25px;
            font-size: 1.2rem; 
            font-family: 'Dancing Script', cursive;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 10px;
        }
        button:active { transform: scale(0.95); }
        .open-btn { background-color: #ff4d4d; color: white; box-shadow: 0 4px 15px rgba(255, 77, 77, 0.4); }
        .yes-btn { background-color: #00cec9; color: white; box-shadow: 0 4px 15px rgba(0, 206, 201, 0.4); }
        .no-btn { background-color: #ff7675; color: white; position: relative; transition: 0.1s; }
        .nav-btn { background-color: #0984e3; color: white; font-size: 1rem; margin-top: 15px; }
        .reason-btn { background-color: #6c5ce7; color: white; font-size: 1rem; margin-top: 15px; }

        h1 { color: #0984e3; margin-bottom: 5px; font-size: 1.8rem; }
        
        /* TYPEWRITER TEXT STYLE */
        #typewriter-text {
            color: #2d3436; 
            line-height: 1.6;
            min-height: 100px; 
            white-space: pre-wrap; 
            margin-bottom: 10px;
        }

        /* SLIDESHOW STYLES (Fixed at top of post-proposal view) */
        .photo-frame {
            width: 250px;
            height: 250px;
            background-color: white;
            padding: 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transform: rotate(-3deg);
            margin-bottom: 20px;
            position: relative; 
            flex-shrink: 0; 
        }
        .slide {
            width: 100%; height: 100%; object-fit: cover; 
            position: absolute; top: 10px; left: 10px; 
            opacity: 0; transition: opacity 1s ease-in-out; 
            width: calc(100% - 20px); height: calc(100% - 20px);
        }
        .slide.active { opacity: 1; }

        /* HEARTS ANIMATION */
        .heart {
            position: absolute; color: #74b9ff;
            animation: float 4s infinite ease-in;
            opacity: 0; z-index: 1;
        }
        @keyframes float {
            0% { transform: translateY(100vh) scale(0.5); opacity: 1; }
            100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
        }
        
        #reason-display { color: #d63031; font-weight: bold; margin-top: 10px; min-height: 30px; }
    </style>
</head>
<body>

    <div id="welcome-screen">
        <h1>I have a surprise for you...</h1>
        <button class="open-btn" onclick="startProposal()">Click to Open üíô</button>
    </div>

    <div id="proposal-screen">
        <h1>Will you be my Valentine? ü•∫</h1>
        <p>(You have no choice lol)</p>
        <div>
            <button class="yes-btn" onclick="showMainView()">YES! üòç</button>
            <button class="no-btn" id="noBtn" onmouseover="moveButton()" onclick="moveButton()">NO üò¢</button>
        </div>
    </div>

    <div id="post-proposal-view">
        <h1>Happy Valentine's Day! üíô</h1>
        
        <div class="photo-frame">
            <img src="us1.jpg" class="slide active" alt="Memory 1">
            <img src="us2.jpg" class="slide" alt="Memory 2">
            <img src="us3.jpg" class="slide" alt="Memory 3">
        </div>

        <div class="content-area">
            
            <div id="letter-section">
                <p id="typewriter-text"></p>
                <button class="nav-btn" onclick="goToReasons()">See Why I Love You &rarr;</button>
            </div>

            <div id="reasons-section">
                <p>There are a million reasons, but here are a few:</p>
                <button class="reason-btn" onclick="showReason()">Click for a Reason üé≤</button>
                <p id="reason-display"></p>
                
                <p style="margin-top: 30px; font-size: 0.9rem; color: #636e72;">P.S. Your promise ring is gonna come.</p>
                
                <button class="nav-btn" style="background: #b2bec3; font-size: 0.8rem;" onclick="goBackToLetter()">&larr; Read Letter Again</button>
            </div>

        </div>
    </div>

    <audio id="bg-music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        
        // --- CONFIGURATION ---
        const fullLetter = "Hey Boo Boo,\n\nI want you to know that, life has been sweet and smooth with you, and of course; I'M JUST GETTING STARTED.\n\nThis is me saying I LOVE YOU from my brain and you will always be dear to me.\n\nThis is a season of love, remember I am your certified clown and always will be.\n\nI LOVE YOU FROM MY BRAIN!!!!!!!";
        
        const reasons = [
            "Because you make me laugh even when I'm stressed.",
            "Because you have the most beautiful smile.",
            "Because you support my dreams.",
            "Because you tolerate my clowning!",
            "Because you are my peace.",
            "Because you are simply YOU."
        ];

        // --- NAVIGATION FUNCTIONS ---

        function startProposal() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('proposal-screen').style.display = 'flex';
            document.getElementById('bg-music').play();
        }

        function showMainView() {
            document.getElementById('proposal-screen').style.display = 'none';
            document.getElementById('post-proposal-view').style.display = 'flex';

            // Start animations
            setInterval(createHeart, 300);
            setInterval(nextSlide, 3000);
            
            // Start Typewriter
            typeWriter();
        }

        function goToReasons() {
            document.getElementById('letter-section').style.display = 'none';
            document.getElementById('reasons-section').style.display = 'block';
        }

        function goBackToLetter() {
            document.getElementById('reasons-section').style.display = 'none';
            document.getElementById('letter-section').style.display = 'block';
        }

        // --- LOGIC FUNCTIONS ---

        let i = 0;
        function typeWriter() {
            if (i < fullLetter.length) {
                document.getElementById("typewriter-text").innerHTML += fullLetter.charAt(i);
                i++;
                setTimeout(typeWriter, 50); 
            }
        }

        function showReason() {
            const randomReason = reasons[Math.floor(Math.random() * reasons.length)];
            document.getElementById("reason-display").innerText = randomReason;
        }

        function nextSlide() {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'üíô';
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = Math.random() * 2 + 3 + "s";
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 5000);
        }

        function moveButton() {
            const noBtn = document.getElementById('noBtn');
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
        }
    </script>
</body>
</html>
